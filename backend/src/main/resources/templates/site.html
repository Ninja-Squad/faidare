<!DOCTYPE html>

<html
  xmlns:th="http://www.thymeleaf.org"
  xmlns:biom="http://www.thymeleaf.org"
  th:replace="~{layout/main :: layout(title=~{::title}, content=~{::main})}"
>
<head>
  <title>Site <th:block th:text="${model.site.locationName}" /></title>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>

<body>
<main>
  <h1>Site <th:block th:text="${model.site.locationName}" /></h1>

  <div th:if="${model.site.uri && !model.site.uri.startsWith('urn:')}"
       th:replace="fragments/row::text-row(label='Permanent unique identifier', text=${model.site.uri})">
  </div>

  <div th:if="${model.source}"
       th:replace="fragments/row::row(label='Source', content=~{::#source}, text='')">
    <a id="source" target="_blank" th:href="${model.source.url}">
      <img style="max-height: 60px;" th:src="${model.source.image}" th:alt="${model.source.name} + ' logo'" />
    </a>
  </div>

  <div th:if="${model.site.url && model.source}"
       th:replace="fragments/row::row(label='Data link', content=~{::#url}, text='')">
    <a id="url" target="_blank" th:href="${model.site.url}">
      Link to this site on <th:block th:text="${model.source.name}" />
    </a>
  </div>

  <div th:replace="fragments/row::text-row(label='Abbreviation', text=${model.site.abbreviation})"></div>
  <div th:replace="fragments/row::text-row(label='Type', text=${model.site.locationType})"></div>
  <div th:replace="fragments/row::text-row(label='Status', text=${model.siteStatus})"></div>
  <div th:replace="fragments/row::text-row(label='Institution/Landowner', text=${model.site.instituteName})"></div>
  <div th:replace="fragments/row::text-row(label='Institution address', text=${model.site.instituteAddress})"></div>
  <div th:replace="fragments/row::text-row(label='Coordinates precision', text=${model.coordinatesPrecision})"></div>
  <div th:if="${model.site.latitude}"
       th:replace="fragments/row::text-row(label='Latitude', text=${#coordinates.formatLatitude(model.site.latitude)})"></div>
  <div th:if="${model.site.longitude}"
       th:replace="fragments/row::text-row(label='Longitude', text=${#coordinates.formatLongitude(model.site.longitude)})"></div>
  <div th:replace="fragments/row::text-row(label='Geographical location', text=${model.geographicalLocation})"></div>
  <div th:if="${model.site.countryName && !model.geographicalLocation}"
       th:replace="fragments/row::text-row(label='Country name', text=${model.site.countryName})"></div>
  <div th:if="${model.site.countryCode && !model.geographicalLocation}"
       th:replace="fragments/row::text-row(label='Country code', text=${model.site.countryName})"></div>
  <div th:replace="fragments/row::text-row(label='Altitude', text=${model.site.altitude})"></div>
  <div th:replace="fragments/row::text-row(label='Slope', text=${model.slope})"></div>
  <div th:replace="fragments/row::text-row(label='Exposure', text=${model.exposure})"></div>
  <div th:replace="fragments/row::text-row(label='Topography', text=${model.topography})"></div>
  <div th:replace="fragments/row::text-row(label='Environment type', text=${model.environmentType})"></div>
  <div th:replace="fragments/row::text-row(label='Distance to city', text=${model.distanceToCity})"></div>
  <div th:replace="fragments/row::text-row(label='Direction from city', text=${model.directionFromCity})"></div>
  <div th:replace="fragments/row::text-row(label='Comment', text=${model.comment})"></div>

  <th:block th:if="${!#lists.isEmpty(model.additionalInfoProperties)}">
    <h2>Additional info</h2>
    <th:block th:each="prop : ${model.additionalInfoProperties}">
      <div th:replace="fragments/row::text-row(label=${prop.key}, text=${prop.value})"></div>
    </th:block>
  </th:block>

  <div th:replace="fragments/xrefs::xrefs(crossReferences=${model.crossReferences})"></div>
</main>
</body>
</html>
