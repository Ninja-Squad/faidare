<div class="row justify-content-end">

  <!-- Column for form -->
  <div class="col-lg-9">
    <!-- Reset all button -->
    <div class="text-right reset-all-div">
      <button type="button" class="btn btn-sm btn-danger mt-1" (click)="resetAll()">
        Reset all
      </button>
    </div>

    <!-- Form -->
    <gpds-form
      #form
      [criteria$]="criteria$">
    </gpds-form>
  </div>

  <!-- Column for facets -->
  <div class="col-lg-3 order-lg-first">
    <div class="row">
      <gpds-facets
        class="col-12 col-lg-12 col-sm-6"
        *ngFor="let facet of facets"
        [criteria$]="criteria$"
        [facet]="facet">
      </gpds-facets>
    </div>

  </div>


  <!-- Column for result -->
  <div *ngIf="documents.length && criteriaIsEmpty; else showResults"
       id="no-criteria"
       class="col-lg-9 text-center mt-5">
    <span class="text-center text-muted mt-5">Select criteria to get results.</span>
  </div>

  <ng-template #showResults>
    <div *ngIf="documents.length" class="col-lg-9">
      <!-- Pagination status -->
      <div class="container">
        <div class="row result align-content-center">
        <span class="col-4 mt-2" id="result-part">
          Results :
        </span>
          <span *ngIf="pagination.totalResult" class="col-8 text-right small text-muted mt-3">
          From {{ pagination.startResult | number }} to {{ pagination.endResult | number }}
            over {{ pagination.totalResult | number }} documents
          <span *ngIf="pagination.totalResult > pagination.maxResults">
          (limited to {{ pagination.maxResults | number }})
          </span>
        </span>
        </div>
      </div>

      <!--Top page navigator-->
      <div class="d-flex justify-content-center mt-3" *ngIf="pagination.totalPages > 1">
        <!-- we add 1 to the page because ngb-pagination is 1 based -->
        <ngb-pagination [page]="pagination.currentPage + 1"
                        (pageChange)="changePage($event)"
                        [collectionSize]="resultCount()"
                        [pageSize]="pagination.pageSize"
                        [maxSize]="5"
                        [boundaryLinks]="true"
                        [ellipses]="false"
                        size="sm">
        </ngb-pagination>
      </div>

      <!-- Result document -->
      <gpds-document
        *ngFor="let document of documents"
        [document]="document">
      </gpds-document>

      <!-- Pagination -->
      <!--Bottom page navigator-->
      <div class="d-flex justify-content-center mt-5" *ngIf="pagination.totalPages > 1">
        <!-- we add 1 to the page because ngb-pagination is 1 based -->
        <ngb-pagination [page]="pagination.currentPage + 1"
                        (pageChange)="changePage($event)"
                        [collectionSize]="resultCount()"
                        [pageSize]="pagination.pageSize"
                        [maxSize]="5"
                        [boundaryLinks]="true"
                        [ellipses]="false"
                        size="sm">
        </ngb-pagination>
      </div>
    </div>
  </ng-template>

</div>

<!-- else we display a simple message -->
<div *ngIf="pagination.totalResult == 0" id="no-results" class="text-center">
  <div class="no-result-icon">
    <span class="fa fa-meh-o"></span>
  </div>
  No results.
</div>
