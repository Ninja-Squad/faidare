<body>
<h3 *ngIf="germplasm.result">
  Germplasm: {{ germplasm.result.germplasmName }}
</h3>




<h4>Identification</h4>
<div class="container-fluid">
  <div class="row" *ngIf="germplasm.result && germplasmGnpis">
    <!-- <img src="" class="img-fluid float-left w-25 p-2 table-sm" alt="" >-->
    <table class="table table-sm">
      <tr *ngIf="germplasm.result?.accessionNumber">
        <td><b>Accession number</b></td>
        <td>{{ germplasm.result.accessionNumber }}</td>
      </tr>
      <tr *ngIf="germplasmGnpis?.acquisitionDate">
        <td><b>Acquisition date</b></td>
        <td>{{ germplasmGnpis.acquisitionDate }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.germplasmName">
        <td><b>Germplasm name</b></td>
        <td>{{ germplasm.result.germplasmName }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.germplasmPUI">
        <td><b>Permanent Unique Identifier</b></td>
        <td> {{ germplasm.result.germplasmPUI }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.seedSource">
        <td><b>Seed source</b></td>
        <td>{{ germplasm.result.seedSource }}</td>
      </tr>
      <tr *ngIf="germplasmGnpis?.geneticNature">
        <td><b>Genetic nature</b></td>
        <td>{{ germplasmGnpis?.geneticNature }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.synonyms.length > 0">
        <td><b>Accession synonyms</b></td>
        <td><a *ngFor="let synonym of germplasm.result?.synonyms"> {{ synonym }}</a></td>
      </tr>

      <ng-template *ngIf="germplasm.result?.genus!=null; then withGenus; else withoutGenus"></ng-template>
      <ng-template #withGenus>
        <tr>
          <td><b>Taxon</b></td>
          <td *ngIf="germplasm.result?.speciesAuthority">{{ germplasm.result?.genus}} {{ germplasm.result?.species}} {{ germplasm.result?.subtaxa}} ({{ germplasm.result?.speciesAuthority}}) </td>
          <td *ngIf="germplasm.result?.speciesAuthority==null">{{ germplasm.result?.genus}} {{ germplasm.result?.species}} {{ germplasm.result?.subtaxa}} </td>
        </tr>
      </ng-template>
      <ng-template #withoutGenus>
        <tr>
          <td><b>Taxon</b></td>
          <td>{{ germplasm.result?.species}}</td>
        </tr>
      </ng-template>

      <tr *ngIf="germplasmGnpis?.taxonCommonNames.length > 0">
        <td><b>Taxon common names</b></td>
        <td><a *ngFor="let commonName of germplasmGnpis.taxonCommonNames"> {{ commonName }}</a></td>
      </tr>
      <tr *ngIf="germplasmGnpis?.taxonSynonyms">
        <td><b>Taxon synonyms</b></td>
        <td><a *ngFor="let taxonSynonym of germplasmGnpis?.taxonSynonyms"> {{ taxonSynonym }}</a></td>
      </tr>
      <tr *ngIf="germplasm.result?.pedigree!=null">
        <td><b>Pedigree</b></td>
        <td>{{ germplasm.result?.pedigree }}</td>
      </tr>
      <tr *ngIf="germplasmGnpis?.biologicalStatusOfAccessionCode">
        <td><b>Biological status</b></td>
        <td>{{ germplasmGnpis.biologicalStatusOfAccessionCode }}</td>
      </tr>
      <tr>
        <td><b>Source</b></td>
        <td>{{ germplasm.result?.source }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.source!='URGI'">
        <td><b>Source link</b></td>
        <td><a>{{ germplasm.result?.url }}</a></td>
      </tr>
      <tr *ngIf="germplasmGnpis.comment">
        <td><b>Comments</b></td>
        <td>{{ germplasmGnpis.comment }}</td>
      </tr>
    </table>
  </div>

  <div class="row" *ngIf="germplasmGnpis?.holdingInstitute">
    <h4>Holding</h4>
    <table class="table table-sm">
      <tr>
        <td><b>Institution</b></td>
        <td><a class="btn popovers"  placement="top" [ngbPopover]="holdingInstituteTemplate" [popoverTitle]="germplasmGnpis.holdingInstitute?.instituteName">
          {{ germplasmGnpis.holdingInstitute?.instituteName }} {{ germplasm.holdingInstitute?.instituteCode }}</a></td>
      </tr>
      <tr *ngIf="germplasmGnpis.holdingInstitute?.instituteName">
        <td><b>Stock center name</b></td>
        <td>{{ germplasmGnpis.holdingGenbank.instituteName }}</td>
      </tr>
      <tr *ngIf="germplasmGnpis.presenceStatus">
        <td><b>Presence status</b></td>
        <td>{{ germplasmGnpis.presenceStatus }}</td>
      </tr>
    </table>

    <ng-template #holdingInstituteTemplate>

      <table>
        <tr *ngIf="germplasmGnpis?.holdingInstitute?.webSite">
          <td><b>Link</b></td>
          <td><a href="{{ germplasmGnpis.holdingInstitute.webSite }}">{{ germplasmGnpis.holdingInstitute.webSite }}</a></td>
        </tr>
        <tr *ngIf="germplasmGnpis?.holdingInstitute?.address">
          <td><b>Adresse</b></td>
          <td>{{ germplasmGnpis.holdingInstitute.address }}</td>
        </tr>
        <!--<tr *ngIf="germplasmGnpis?.holdingInstitute?.logo">
          <td><b>Logo</b></td>
          <td>{{ germplasmGnpis.holdingInstitute.logo }}</td>
        </tr>-->
      </table>

    </ng-template>
  </div>

  <!--<div class="row" *ngIf="germplasmGnpis?.holdingGenbank && germplasmGnpis.holdingGenbank.instituteName">
    <h4>Holding gene bank</h4>
    <table class="table table-sm">
      <tr>
        <td><b>Institution</b></td>
        <td><a class="btn popovers"  placement="top" [ngbPopover]="holdingGenbankTemplate" [popoverTitle]="germplasmGnpis.holdingGenbank.instituteName">
          {{ germplasmGnpis.holdingGenbank.instituteName }} {{ germplasm.holdingGenbank.instituteCode }}</a></td>
      </tr>
    </table>

    <ng-template #holdingGenbankTemplate>
      <table>
      <tr *ngIf="germplasmGnpis.holdingGenbank.webSite">
        <td><b>Link</b></td>
        <td><a href="{{ germplasmGnpis.holdingGenbank.webSite }}">{{ germplasmGnpis.holdingGenbank.webSite }}</a></td>
      </tr>
      <tr *ngIf="germplasmGnpis.holdingGenbank.address">
        <td><b>Adresse</b></td>
        <td>{{ germplasmGnpis.holdingGenbank.address }}</td>
      </tr>
      &lt;!&ndash;<tr *ngIf="germplasmGnpis.holdingGenbank.logo">
        <td><b>Logo</b></td>
        <td>{{ germplasmGnpis.holdingGenbank.logo }}</td>
      </tr>&ndash;&gt;
    </table>
    </ng-template>
  </div>-->

  <ng-container *ngIf="germplasmGnpis?.breeder.institute.instituteName">
    <div class="row">
      <h4>Breeder</h4>

      <table class="table table-sm">
        <tr>
          <td><b>Institution</b></td>
          <td><a class="btn popovers"  placement="top" [ngbPopover]="BreederInstituteTemplate" [popoverTitle]="germplasmGnpis.breeder.institute.instituteName">
            {{ germplasmGnpis.breeder.institute.instituteName }} {{ germplasmGnpis.breeder.institute.instituteCode }}</a></td>
        </tr>
        <tr *ngIf="germplasmGnpis.breeder.institute.accessionCreationDate">
          <td><b>Accession Creation date</b></td>
          <td>{{ germplasmGnpis.breeder.institute.accessionCreationDate }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.breeder.institute.accessionNumber">
          <td><b>Accession number</b></td>
          <td>{{ germplasmGnpis.breeder.institute.accessionNumber }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.breeder.institute.collectors">
          <td><b>collectors</b></td>
          <td>{{ germplasmGnpis.breeder.institute.collectors }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.breeder.institute.deregistrationYear">
          <td><b>Deregistration year</b></td>
          <td>{{ germplasmGnpis.breeder.institute.deregistrationYear }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.breeder.institute.distributionStatus">
          <td><b>distributionStatus</b></td>
          <td>{{ germplasmGnpis.breeder.institute.distributionStatus }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.breeder.institute.germplasmPUI">
          <td><b>germplasmPUI</b></td>
          <td>{{ germplasmGnpis.breeder.institute.germplasmPUI }}</td>
        </tr>
      </table>

      <ng-template #BreederInstituteTemplate>
        <table>
          <tr *ngIf="germplasmGnpis.breeder.institute.webSite">
            <td><b>Link</b></td>
            <td><a href="{{ germplasmGnpis.breeder.institute.webSite }}">{{ germplasmGnpis.breeder.institute.webSite }}</a></td>
          </tr>
          <tr *ngIf="germplasmGnpis.breeder.institute.address">
            <td><b>Adresse</b></td>
            <td>{{ germplasmGnpis.breeder.institute.address }}</td>
          </tr>
          <!--<tr *ngIf="germplasmGnpis.breeder.institute.logo">
            <td><b>Logo</b></td>
            <td>{{ germplasmGnpis.breeder.institute.logo }}</td>
          </tr>-->
        </table>
      </ng-template>

    </div>
  </ng-container>

  <ng-container *ngIf="germplasmGnpis?.collectingSite.siteName">
    <div class="row">
      <h4>Collecting site</h4>
      <table class="table table-sm">
        <tr *ngIf="germplasmGnpis.collectingSite.siteName">
          <td><b>Name</b></td>
          <td>{{ germplasmGnpis.collectingSite.siteName }}</td>
        </tr>
        <tr>
          <td><b></b></td>
          <td></td>
        </tr>
      </table>
    </div>
  </ng-container>

  <ng-container *ngIf="germplasmGnpis.donors?.length > 0">
    <div class="row">
      <h4>Donors</h4>
      <ng-container *ngFor="let donor of germplasmGnpis.donors">
        <table class="table table-sm">
          <tr>
            <td><b>Donation accession number</b></td>
            <td>{{ donor.donorAccessionNumber }}</td>
          </tr>
          <tr>
            <td><b>Donation germplasm PUI</b></td>
            <td>{{ donor.donorGermplasmPUI }}</td>
          </tr>
          <tr>
            <td><b>Institute code</b></td>
            <td>{{ donor.donorInstituteCode }}</td>
          </tr>
        </table>
      </ng-container>
    </div>
  </ng-container>

  <div class="row">
    <h4>Origin</h4>
    <table class="table table-sm">
      <tr *ngIf="germplasm.result?.countryOfOriginCode">
        <td><b>Geographical origin</b></td>
        <td>{{ germplasm.result.countryOfOriginCode }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.originSite?.siteName">
        <td><b>Origin site</b></td>
        <td>{{ germplasm.result.originSite.siteName }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.collectingSite?.siteName">
        <td><b>Collecting site</b></td>
        <td>{{ germplasm.result.collectingSite.siteName }}</td>
      </tr>
      <tr>
        <td><b>Institution</b></td>
        <td>{{ germplasm.result?.instituteName }}</td>
      </tr>
      <tr *ngIf="germplasm.result?.evaluationSites?.siteName">
        <td><b>Evaluation sites</b></td>
        <td>{{ germplasm.result.evaluationSites.siteName }}</td>
      </tr>

    </table>
  </div>

  <ng-container *ngIf="germplasmPedigree.result">
    <div class="row">
      <h4>Ascendants</h4>
      <table class="table table-sm">
        <tr *ngIf="germplasmPedigree.result.crossingPlan">
          <td><b>Crossing plan</b></td>
          <td>{{ germplasmPedigree.result.crossingPlan }}</td>
        </tr>
        <tr *ngIf="germplasmPedigree.result.crossingYear">
          <td><b>Crossing year</b></td>
          <td>{{ germplasmPedigree.result.crossingYear }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.genealogy.familyCode">
          <td><b>Affiliation</b></td>
          <td>{{ germplasmGnpis.genealogy.familyCode }}</td>
        </tr>
        <tr>
          <td><b>Parent accessions</b></td>
          <td><table>
            <ng-container [ngSwitch]="germplasmPedigree.result.parent1Type">
              <tr *ngSwitchCase="'FEMALE'">
                <td>Mother</td>
                <td>{{ germplasmPedigree.result.parent1Name }}</td>
              </tr>
              <tr *ngSwitchCase="'MALE'">
                <td>Father</td>
                <td>{{ germplasmPedigree.result.parent1Name }}</td>
              </tr>
              <tr *ngSwitchCase="'SELF'">
                <td>{{ germplasmPedigree.result.parent1Name }}</td>
              </tr>
              <tr *ngSwitchCase="'UNDEFINED'">
                <td>{{ germplasmPedigree.result.parent1Name }}</td>
              </tr>
            </ng-container>
            <ng-container [ngSwitch]="germplasmPedigree.result.parent2Type">
              <tr *ngSwitchCase="'FEMALE'">
                <td>Mother</td>
                <td>{{ germplasmPedigree.result.parent2Name }}</td>
              </tr>
              <tr *ngSwitchCase="'MALE'">
                <td>Father</td>
                <td>{{ germplasmPedigree.result.parent2Name }}</td>
              </tr>
              <tr *ngSwitchCase="'SELF'">
                <td>{{ germplasmPedigree.result.parent2Name }}</td>
              </tr>
              <tr *ngSwitchCase="'UNDEFINED'">
                <td>{{ germplasmPedigree.result.parent2Name }}</td>
              </tr>
            </ng-container>
          </table></td>
        </tr>
      </table>
    </div>

    <ng-container *ngIf="germplasmPedigree.result.siblings">
    <div class="row">
      <h5>Siblings</h5>
      <table class="table table-sm">
        <tr>
          <td><b>Siblings accessions</b></td>
          <td><a *ngFor="let sibling of germplasmPedigree.result.siblings"> {{ sibling.defaultDisplayName }}</a></td>
        </tr>
      </table>
    </div>
    </ng-container>
  </ng-container>

  <div class="row">
    <ng-container *ngIf="germplasmGnpis?.distributors.length > 0">
      <h4>Distribution</h4>
      <table class="table table-sm">
        <ng-container *ngFor="let distributor of germplasmGnpis.distributors">
          <tr>
            <td><b>{{ distributor.institute.instituteName }}</b></td>
            <td>{{ distributor.distributionStatus }}</td>
          </tr>
        </ng-container>
      </table>
    </ng-container>
  </div>

  <ng-container *ngIf="germplasmGnpis?.collector.length > 0">
    <div class="row">
      <h4>Collector</h4>
      <table class="table table-sm">
        <tr *ngIf="germplasmGnpis.collector.accessionNumber">
          <td><b>accessionNumber</b></td>
          <td>{{ germplasmGnpis.collector.accessionNumber }}</td>
        </tr>

        <tr *ngIf="germplasmGnpis.collector.collectors.length > 0">
          <td><b>collectors</b></td>
          <ng-container *ngFor="let collector of germplasmGnpis.collector.collectors">
            <td>{{ collector }}</td>
          </ng-container>
        </tr>

        <tr *ngIf="germplasmGnpis.collector.deregistrationYear">
          <td><b>deregistrationYear</b></td>
          <td>{{ germplasmGnpis.collector.deregistrationYear }}</td>
        </tr>
        <tr *ngIf="germplasmGnpis.collector.distributionStatus">
          <td><b>distributionStatus</b></td>
          <td>{{ germplasmGnpis.collector.distributionStatus }}</td>
        </tr>

        <tr *ngIf="germplasmGnpis.collector.instituteName">
          <td><b>Institute</b></td>
          <td>{{ germplasmGnpis.collector.instituteName }}</td>
        </tr>

        <tr *ngIf="germplasmGnpis.collector.materialType">
          <td><b>Material type</b></td>
          <td>{{ germplasmGnpis.collector.materialType }}</td>
        </tr>

        <tr *ngIf="germplasmGnpis.collector.registrationYear">
          <td><b>Registration Year</b></td>
          <td>{{ germplasmGnpis.collector.registrationYear }}</td>
        </tr>
      </table>
    </div>
  </ng-container>

  <ng-container *ngIf="germplasmAttributes.result?.data.length > 0">
    <h4>Evaluation Data</h4>
    <div class="row">
      <table class="table table-sm">
        <ng-container *ngFor="let descriptor of germplasmAttributes.result?.data">
          <tr><td><b>{{ descriptor.attributeName }}</b></td> <td>{{ descriptor.value }}</td></tr>
        </ng-container>
      </table>
    </div>
  </ng-container>

  <ng-container *ngIf="germplasmGnpis.collection.length > 0">
    <div class="row">
      <h4>Collection</h4>
      <table class="table table-sm">
        <ng-container *ngFor="let collection of germplasmGnpis.collection">
          <tr>
            <td><b>{{ collection.name }}</b></td><td><a href="">{{ collection.germplasmCount }} accessions</a></td></tr>
          <!--<ng-container *ngIf="collection.germplasmRef">
            <tr><b>Name</b> {{ collection.germplasmRef.name }}</tr>
            <tr><b>Pui</b> {{ collection.germplasmRef.pui }}</tr>
            <tr><b>value</b> {{ collection.germplasmRef.value }}</tr>
          </ng-container>
          <tr><b>Name</b> {{ collection.name }}</tr>
          <tr><b>Type</b> {{ collection.type }}</tr>-->
        </ng-container>
      </table>
    </div>
  </ng-container>

  <ng-container *ngIf="germplasmGnpis.panel.length > 0">
    <div class="row">
      <h4>Panel</h4>
      <table class="table table-sm">
        <ng-container *ngFor="let panel of germplasmGnpis.panel">
          <tr><b>Number of germplasms</b> {{ panel.germplasmCount }}</tr>
          <ng-container *ngIf="panel.germplasmRef">
            <tr><b>Name</b> {{ panel.germplasmRef.name }}</tr>
            <tr><b>Pui</b> {{ panel.germplasmRef.pui }}</tr>
            <tr><b>value</b> {{ panel.germplasmRef.value }}</tr>
          </ng-container>
          <tr><b>Name</b> {{ panel.name }}</tr>
          <tr><b>Type</b> {{ panel.type }}</tr>
        </ng-container>
      </table>
    </div>
  </ng-container>



</div>
</body>
